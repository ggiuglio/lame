import{S as He,i as Ve,s as ze,n as pe,d,b as V,I as r,e as f,f as v,j as h,L as ot,M as ut,c as o,N as H,h as L,k as T,a as be,O as ae,g as fe,P as ne,t as he,r as Ae,Q as J,R as dt,T as Se,U as ce,V as qe,J as Ie,W as ct,X as ft,z as Xe,K as it,Y as ht,E as Ye,q as Ge,m as Je,G as Ke,H as Qe,F as We,l as pt,B as _t}from"../chunks/CE_BPai5.js";import"../chunks/IHki7fMi.js";import{e as je,u as mt,d as vt,p as we}from"../chunks/BDPtx0kL.js";import{g as gt}from"../chunks/B4nVmeH8.js";function Ze(a,e,t){const l=a.slice();return l[20]=e[t],l[19]=t,l}function bt(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function kt(a){let e,t,l,n,s,i,u="Name",c,_,m,k,E,C="Date of Injury",I,x,b,w,z,g="Injured Leg",p,R,A,M="",ee,S,K,Y=[],W=new Map,D,P,O=a[3]==="name"&&$e(a),F=a[3]==="dateOfInjury"&&et(a),B=a[3]==="injuredLeg"&&tt(a),q=a[0].length===0&&lt(a),Z=je(a[5]);const ke=y=>y[20].id;for(let y=0;y<Z.length;y+=1){let N=Ze(a,Z,y),U=ke(N);W.set(U,Y[y]=rt(U,N))}return{c(){e=h("table"),t=h("thead"),l=h("tr"),n=h("th"),s=h("button"),i=h("span"),i.textContent=u,c=T(),O&&O.c(),_=T(),m=h("th"),k=h("button"),E=h("span"),E.textContent=C,I=T(),F&&F.c(),x=T(),b=h("th"),w=h("button"),z=h("span"),z.textContent=g,p=T(),B&&B.c(),R=T(),A=h("th"),A.innerHTML=M,ee=T(),S=h("tbody"),q&&q.c(),K=T();for(let y=0;y<Y.length;y+=1)Y[y].c();this.h()},l(y){e=f(y,"TABLE",{class:!0});var N=v(e);t=f(N,"THEAD",{class:!0});var U=v(t);l=f(U,"TR",{class:!0});var le=v(l);n=f(le,"TH",{});var _e=v(n);s=f(_e,"BUTTON",{class:!0});var te=v(s);i=f(te,"SPAN",{"data-svelte-h":!0}),H(i)!=="svelte-15ueaex"&&(i.textContent=u),c=L(te),O&&O.l(te),te.forEach(d),_e.forEach(d),_=L(le),m=f(le,"TH",{});var xe=v(m);k=f(xe,"BUTTON",{class:!0});var ie=v(k);E=f(ie,"SPAN",{"data-svelte-h":!0}),H(E)!=="svelte-1etydhu"&&(E.textContent=C),I=L(ie),F&&F.l(ie),ie.forEach(d),xe.forEach(d),x=L(le),b=f(le,"TH",{});var re=v(b);w=f(re,"BUTTON",{class:!0});var $=v(w);z=f($,"SPAN",{"data-svelte-h":!0}),H(z)!=="svelte-sre0cx"&&(z.textContent=g),p=L($),B&&B.l($),$.forEach(d),re.forEach(d),R=L(le),A=f(le,"TH",{class:!0,"data-svelte-h":!0}),H(A)!=="svelte-1lc5k9l"&&(A.innerHTML=M),le.forEach(d),U.forEach(d),ee=L(N),S=f(N,"TBODY",{});var se=v(S);q&&q.l(se),K=L(se);for(let ue=0;ue<Y.length;ue+=1)Y[ue].l(se);se.forEach(d),N.forEach(d),this.h()},h(){r(s,"class","flex items-center gap-1 hover:text-pirate-gold transition focus:outline-none focus:text-pirate-gold"),r(k,"class","flex items-center gap-1 hover:text-pirate-gold transition focus:outline-none focus:text-pirate-gold"),r(w,"class","flex items-center gap-1 hover:text-pirate-gold transition focus:outline-none focus:text-pirate-gold"),r(A,"class","w-28"),r(l,"class","[&>th]:px-4 [&>th]:py-3"),r(t,"class","sticky top-0 z-10 bg-[#3B0A0A] text-pirate-parchment uppercase tracking-wide"),r(e,"class","min-w-full text-sm text-left")},m(y,N){V(y,e,N),o(e,t),o(t,l),o(l,n),o(n,s),o(s,i),o(s,c),O&&O.m(s,null),o(l,_),o(l,m),o(m,k),o(k,E),o(k,I),F&&F.m(k,null),o(l,x),o(l,b),o(b,w),o(w,z),o(w,p),B&&B.m(w,null),o(l,R),o(l,A),o(e,ee),o(e,S),q&&q.m(S,null),o(S,K);for(let U=0;U<Y.length;U+=1)Y[U]&&Y[U].m(S,null);D||(P=[J(s,"click",a[9]),J(k,"click",a[10]),J(w,"click",a[11])],D=!0)},p(y,N){y[3]==="name"?O?O.p(y,N):(O=$e(y),O.c(),O.m(s,null)):O&&(O.d(1),O=null),y[3]==="dateOfInjury"?F?F.p(y,N):(F=et(y),F.c(),F.m(k,null)):F&&(F.d(1),F=null),y[3]==="injuredLeg"?B?B.p(y,N):(B=tt(y),B.c(),B.m(w,null)):B&&(B.d(1),B=null),y[0].length===0?q?q.p(y,N):(q=lt(y),q.c(),q.m(S,K)):q&&(q.d(1),q=null),N&224&&(Z=je(y[5]),Y=mt(Y,N,ke,1,y,Z,W,S,vt,rt,null,Ze))},d(y){y&&d(e),O&&O.d(),F&&F.d(),B&&B.d(),q&&q.d();for(let N=0;N<Y.length;N+=1)Y[N].d();D=!1,Ae(P)}}}function xt(a){let e,t,l,n,s,i;return{c(){e=h("div"),t=h("div"),l=ne("svg"),n=ne("path"),s=T(),i=he(a[2]),this.h()},l(u){e=f(u,"DIV",{class:!0});var c=v(e);t=f(c,"DIV",{class:!0});var _=v(t);l=ae(_,"svg",{class:!0,viewBox:!0,fill:!0});var m=v(l);n=ae(m,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(n).forEach(d),m.forEach(d),s=L(_),i=fe(_,a[2]),_.forEach(d),c.forEach(d),this.h()},h(){r(n,"fill-rule","evenodd"),r(n,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"),r(n,"clip-rule","evenodd"),r(l,"class","h-4 w-4"),r(l,"viewBox","0 0 20 20"),r(l,"fill","currentColor"),r(t,"class","flex items-center gap-2 text-sm text-[#FF4444]"),r(e,"class","flex items-center justify-center py-12")},m(u,c){V(u,e,c),o(e,t),o(t,l),o(l,n),o(t,s),o(t,i)},p(u,c){c&4&&be(i,u[2])},d(u){u&&d(e)}}}function wt(a){let e,t,l='<tr class="[&amp;&gt;th]:px-4 [&amp;&gt;th]:py-3"><th>Name</th> <th>Date of Injury</th> <th>Injured Leg</th> <th class="w-28"></th></tr>',n,s,i=je(Array(3)),u=[];for(let c=0;c<i.length;c+=1)u[c]=Dt(bt(a,i,c));return{c(){e=h("table"),t=h("thead"),t.innerHTML=l,n=T(),s=h("tbody");for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=f(c,"TABLE",{class:!0});var _=v(e);t=f(_,"THEAD",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1t122qc"&&(t.innerHTML=l),n=L(_),s=f(_,"TBODY",{});var m=v(s);for(let k=0;k<u.length;k+=1)u[k].l(m);m.forEach(d),_.forEach(d),this.h()},h(){r(t,"class","sticky top-0 z-10 bg-[#3B0A0A] text-pirate-parchment uppercase tracking-wide"),r(e,"class","min-w-full text-sm text-left")},m(c,_){V(c,e,_),o(e,t),o(e,n),o(e,s);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(s,null)},p:pe,d(c){c&&d(e),ut(u,c)}}}function $e(a){let e;function t(s,i){return s[4]==="asc"?Et:yt}let l=t(a),n=l(a);return{c(){e=ne("svg"),n.c(),this.h()},l(s){e=ae(s,"svg",{class:!0,viewBox:!0,fill:!0});var i=v(e);n.l(i),i.forEach(d),this.h()},h(){r(e,"class","h-4 w-4"),r(e,"viewBox","0 0 20 20"),r(e,"fill","currentColor")},m(s,i){V(s,e,i),n.m(e,null)},p(s,i){l!==(l=t(s))&&(n.d(1),n=l(s),n&&(n.c(),n.m(e,null)))},d(s){s&&d(e),n.d()}}}function yt(a){let e;return{c(){e=ne("path"),this.h()},l(t){e=ae(t,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(e).forEach(d),this.h()},h(){r(e,"fill-rule","evenodd"),r(e,"d","M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L10 6.414 6.707 9.707a1 1 0 01-1.414 0z"),r(e,"clip-rule","evenodd")},m(t,l){V(t,e,l)},d(t){t&&d(e)}}}function Et(a){let e;return{c(){e=ne("path"),this.h()},l(t){e=ae(t,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(e).forEach(d),this.h()},h(){r(e,"fill-rule","evenodd"),r(e,"d","M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 13.586l3.293-3.293a1 1 0 011.414 0z"),r(e,"clip-rule","evenodd")},m(t,l){V(t,e,l)},d(t){t&&d(e)}}}function et(a){let e;function t(s,i){return s[4]==="asc"?Lt:Ct}let l=t(a),n=l(a);return{c(){e=ne("svg"),n.c(),this.h()},l(s){e=ae(s,"svg",{class:!0,viewBox:!0,fill:!0});var i=v(e);n.l(i),i.forEach(d),this.h()},h(){r(e,"class","h-4 w-4"),r(e,"viewBox","0 0 20 20"),r(e,"fill","currentColor")},m(s,i){V(s,e,i),n.m(e,null)},p(s,i){l!==(l=t(s))&&(n.d(1),n=l(s),n&&(n.c(),n.m(e,null)))},d(s){s&&d(e),n.d()}}}function Ct(a){let e;return{c(){e=ne("path"),this.h()},l(t){e=ae(t,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(e).forEach(d),this.h()},h(){r(e,"fill-rule","evenodd"),r(e,"d","M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L10 6.414 6.707 9.707a1 1 0 01-1.414 0z"),r(e,"clip-rule","evenodd")},m(t,l){V(t,e,l)},d(t){t&&d(e)}}}function Lt(a){let e;return{c(){e=ne("path"),this.h()},l(t){e=ae(t,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(e).forEach(d),this.h()},h(){r(e,"fill-rule","evenodd"),r(e,"d","M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 13.586l3.293-3.293a1 1 0 011.414 0z"),r(e,"clip-rule","evenodd")},m(t,l){V(t,e,l)},d(t){t&&d(e)}}}function tt(a){let e;function t(s,i){return s[4]==="asc"?Bt:Tt}let l=t(a),n=l(a);return{c(){e=ne("svg"),n.c(),this.h()},l(s){e=ae(s,"svg",{class:!0,viewBox:!0,fill:!0});var i=v(e);n.l(i),i.forEach(d),this.h()},h(){r(e,"class","h-4 w-4"),r(e,"viewBox","0 0 20 20"),r(e,"fill","currentColor")},m(s,i){V(s,e,i),n.m(e,null)},p(s,i){l!==(l=t(s))&&(n.d(1),n=l(s),n&&(n.c(),n.m(e,null)))},d(s){s&&d(e),n.d()}}}function Tt(a){let e;return{c(){e=ne("path"),this.h()},l(t){e=ae(t,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(e).forEach(d),this.h()},h(){r(e,"fill-rule","evenodd"),r(e,"d","M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L10 6.414 6.707 9.707a1 1 0 01-1.414 0z"),r(e,"clip-rule","evenodd")},m(t,l){V(t,e,l)},d(t){t&&d(e)}}}function Bt(a){let e;return{c(){e=ne("path"),this.h()},l(t){e=ae(t,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(e).forEach(d),this.h()},h(){r(e,"fill-rule","evenodd"),r(e,"d","M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 13.586l3.293-3.293a1 1 0 011.414 0z"),r(e,"clip-rule","evenodd")},m(t,l){V(t,e,l)},d(t){t&&d(e)}}}function lt(a){let e,t,l,n,s,i,u,c,_,m="Add your first mate",k,E;return{c(){e=h("tr"),t=h("td"),l=h("div"),n=h("img"),i=T(),u=h("div"),c=he(`No lames in your crew yet.
                `),_=h("button"),_.textContent=m,this.h()},l(C){e=f(C,"TR",{class:!0});var I=v(e);t=f(I,"TD",{colspan:!0,class:!0});var x=v(t);l=f(x,"DIV",{class:!0});var b=v(l);n=f(b,"IMG",{src:!0,alt:!0,class:!0}),i=L(b),u=f(b,"DIV",{class:!0});var w=v(u);c=fe(w,`No lames in your crew yet.
                `),_=f(w,"BUTTON",{class:!0,tabindex:!0,"aria-label":!0,"data-svelte-h":!0}),H(_)!=="svelte-2xskyk"&&(_.textContent=m),w.forEach(d),b.forEach(d),x.forEach(d),I.forEach(d),this.h()},h(){dt(n.src,s="/images/jolly roger 3.png")||r(n,"src",s),r(n,"alt","Empty state"),r(n,"class","w-24 h-24 opacity-25"),r(_,"class","ml-2 underline text-pirate-gold hover:text-[#F6E6A3] focus:outline-none focus:ring-2 focus:ring-pirate-gold/60 rounded"),r(_,"tabindex","0"),r(_,"aria-label","Add your first mate"),r(u,"class","text-pirate-muted"),r(l,"class","flex flex-col items-center gap-4"),r(t,"colspan","4"),r(t,"class","px-4 py-12 text-center"),r(e,"class","bg-[#0B1720]")},m(C,I){V(C,e,I),o(e,t),o(t,l),o(l,n),o(l,i),o(l,u),o(u,c),o(u,_),k||(E=[J(_,"click",a[8]),J(_,"keydown",a[12])],k=!0)},p:pe,d(C){C&&d(e),k=!1,Ae(E)}}}function rt(a,e){let t,l,n=e[20].name+"",s,i,u,c=at(e[20].dateOfInjury)+"",_,m,k,E=e[20].injuredLeg+"",C,I,x,b,w='<svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path></svg>',z,g,p='<svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>',R,A,M,ee;function S(){return e[13](e[20])}function K(){return e[14](e[20])}function Y(){return e[15](e[20])}return{key:a,first:null,c(){t=h("tr"),l=h("td"),s=he(n),i=T(),u=h("td"),_=he(c),m=T(),k=h("td"),C=he(E),I=T(),x=h("td"),b=h("button"),b.innerHTML=w,z=T(),g=h("button"),g.innerHTML=p,R=T(),this.h()},l(W){t=f(W,"TR",{class:!0});var D=v(t);l=f(D,"TD",{class:!0});var P=v(l);s=fe(P,n),P.forEach(d),i=L(D),u=f(D,"TD",{class:!0});var O=v(u);_=fe(O,c),O.forEach(d),m=L(D),k=f(D,"TD",{class:!0});var F=v(k);C=fe(F,E),F.forEach(d),I=L(D),x=f(D,"TD",{class:!0});var B=v(x);b=f(B,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),H(b)!=="svelte-le3bg"&&(b.innerHTML=w),z=L(B),g=f(B,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),H(g)!=="svelte-1urs8vk"&&(g.innerHTML=p),B.forEach(d),R=L(D),D.forEach(d),this.h()},h(){r(l,"class","px-4 py-3"),r(u,"class","px-4 py-3"),r(k,"class","px-4 py-3"),r(b,"class","rounded-lg p-2 bg-pirate-gold/90 hover:bg-pirate-gold text-[#1B2A34] transition shadow shadow-black/40 focus:outline-none focus:ring-2 focus:ring-pirate-gold/60 focus:ring-offset-2 focus:ring-offset-[#0B1720]"),r(b,"aria-label","Edit lame"),r(g,"class","rounded-lg p-2 bg-[#7A0000] hover:bg-[#9D0B0B] text-pirate-parchment transition shadow shadow-black/40 focus:outline-none focus:ring-2 focus:ring-[#9D0B0B]/60 focus:ring-offset-2 focus:ring-offset-[#0B1720]"),r(g,"aria-label","Remove lame"),r(x,"class","px-4 py-3 space-x-2"),r(t,"class",A=`${e[19]%2===0?"bg-[#0B1720]/80":"bg-[#102532]/80"} focus:outline-none focus:ring-2 focus:ring-pirate-gold/20 cursor-pointer hover:bg-[#142833]`),this.first=t},m(W,D){V(W,t,D),o(t,l),o(l,s),o(t,i),o(t,u),o(u,_),o(t,m),o(t,k),o(k,C),o(t,I),o(t,x),o(x,b),o(x,z),o(x,g),o(t,R),M||(ee=[J(b,"click",Se(S)),J(g,"click",Se(K)),J(t,"click",Y)],M=!0)},p(W,D){e=W,D&32&&n!==(n=e[20].name+"")&&be(s,n),D&32&&c!==(c=at(e[20].dateOfInjury)+"")&&be(_,c),D&32&&E!==(E=e[20].injuredLeg+"")&&be(C,E),D&32&&A!==(A=`${e[19]%2===0?"bg-[#0B1720]/80":"bg-[#102532]/80"} focus:outline-none focus:ring-2 focus:ring-pirate-gold/20 cursor-pointer hover:bg-[#142833]`)&&r(t,"class",A)},d(W){W&&d(t),M=!1,Ae(ee)}}}function Dt(a){let e,t='<td class="px-4 py-3"><div class="h-4 w-32 bg-[#142833] rounded animate-pulse"></div></td> <td class="px-4 py-3"><div class="h-4 w-24 bg-[#142833] rounded animate-pulse"></div></td> <td class="px-4 py-3"><div class="h-4 w-16 bg-[#142833] rounded animate-pulse"></div></td> <td class="px-4 py-3 space-x-2"><div class="inline-block h-8 w-14 bg-[#142833] rounded-lg animate-pulse"></div> <div class="inline-block h-8 w-20 bg-[#142833] rounded-lg animate-pulse"></div></td> ';return{c(){e=h("tr"),e.innerHTML=t,this.h()},l(l){e=f(l,"TR",{class:!0,"aria-hidden":!0,"data-svelte-h":!0}),H(e)!=="svelte-1h7wo6t"&&(e.innerHTML=t),this.h()},h(){r(e,"class",a[19]%2===0?"bg-[#0B1720]/80":"bg-[#102532]/80"),r(e,"aria-hidden","true")},m(l,n){V(l,e,n)},p:pe,d(l){l&&d(e)}}}function It(a){let e;function t(s,i){return s[1]?wt:s[2]?xt:kt}let l=t(a),n=l(a);return{c(){e=h("div"),n.c(),this.h()},l(s){e=f(s,"DIV",{class:!0});var i=v(e);n.l(i),i.forEach(d),this.h()},h(){r(e,"class","h-full overflow-auto rounded-xl border border-[#0C1A22] bg-[#0E1F29]/60 backdrop-blur-sm shadow-inner shadow-black/40")},m(s,i){V(s,e,i),n.m(e,null)},p(s,[i]){l===(l=t(s))&&n?n.p(s,i):(n.d(1),n=l(s),n&&(n.c(),n.m(e,null)))},i:pe,o:pe,d(s){s&&d(e),n.d()}}}function at(a){try{return new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit"}).format(new Date(a))}catch{return a}}function At(a,e,t){let l,{people:n=[]}=e,{loading:s=!1}=e,{error:i=""}=e,u="dateOfInjury",c="desc";const _=ot();function m(p){_("edit",p)}function k(p){confirm("Are you sure you want to remove this lame?")&&_("remove",p.id)}function E(){_("create")}const C=()=>{u==="name"?t(4,c=c==="asc"?"desc":"asc"):(t(3,u="name"),t(4,c="asc"))},I=()=>{u==="dateOfInjury"?t(4,c=c==="asc"?"desc":"asc"):(t(3,u="dateOfInjury"),t(4,c="desc"))},x=()=>{u==="injuredLeg"?t(4,c=c==="asc"?"desc":"asc"):(t(3,u="injuredLeg"),t(4,c="asc"))},b=p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),E())},w=p=>m(p),z=p=>k(p),g=p=>gt(`/lame?id=${p.id}`);return a.$$set=p=>{"people"in p&&t(0,n=p.people),"loading"in p&&t(1,s=p.loading),"error"in p&&t(2,i=p.error)},a.$$.update=()=>{a.$$.dirty&25&&t(5,l=[...n].sort((p,R)=>{const A=c==="asc"?1:-1,M=p[u],ee=R[u];return M<ee?-1*A:M>ee?1*A:0}))},[n,s,i,u,c,l,m,k,E,C,I,x,b,w,z,g]}class Ot extends He{constructor(e){super(),Ve(this,e,At,It,ze,{people:0,loading:1,error:2})}}function nt(a){let e,t="Please enter a name";return{c(){e=h("div"),e.textContent=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-12rkwl0"&&(e.textContent=t),this.h()},h(){r(e,"class","text-[#FF4444] text-sm mt-1 flex items-center")},m(l,n){V(l,e,n)},d(l){l&&d(e)}}}function st(a){let e,t,l;return{c(){e=h("div"),this.h()},l(n){e=f(n,"DIV",{class:!0,"aria-hidden":!0}),v(e).forEach(d),this.h()},h(){r(e,"class","fixed inset-0 bg-black/60 backdrop-blur-[2px] z-40"),r(e,"aria-hidden","true")},m(n,s){V(n,e,s),t||(l=J(e,"click",a[6]),t=!0)},p:pe,d(n){n&&d(e),t=!1,l()}}}function Mt(a){let e,t,l,n=a[1]==="create"?"Add Lame":"Edit Lame",s,i,u,c="✕",_,m,k,E,C="Name",I,x,b,w=!a[2].trim(),z,g,p,R="Date of injury",A,M,ee,S,K,Y="Injured leg",W,D,P,O,F='<svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg> ',B,q="Left",Z,ke="Right",y,N="Both",U,le="Other",_e,te,xe='<svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',ie,re,$,se=a[1]==="create"?"Add Lame":"Save changes",ue,ye,Oe,oe,Pe="Cancel",Ee,me,Me,Fe,Q=w&&nt(),G=a[0]&&st(a);return{c(){e=h("aside"),t=h("div"),l=h("h1"),s=he(n),i=T(),u=h("button"),u.textContent=c,_=T(),m=h("form"),k=h("div"),E=h("label"),E.textContent=C,I=T(),x=h("input"),b=T(),Q&&Q.c(),z=T(),g=h("div"),p=h("label"),p.textContent=R,A=T(),M=h("input"),ee=T(),S=h("div"),K=h("label"),K.textContent=Y,W=T(),D=h("div"),P=h("select"),O=h("div"),O.innerHTML=F,B=h("option"),B.textContent=q,Z=h("option"),Z.textContent=ke,y=h("option"),y.textContent=N,U=h("option"),U.textContent=le,_e=T(),te=h("div"),te.innerHTML=xe,ie=T(),re=h("div"),$=h("button"),ue=he(se),Oe=T(),oe=h("button"),oe.textContent=Pe,Ee=T(),G&&G.c(),me=Xe(),this.h()},l(j){e=f(j,"ASIDE",{id:!0,class:!0,"aria-modal":!0,role:!0,"aria-labelledby":!0});var X=v(e);t=f(X,"DIV",{class:!0});var Ce=v(t);l=f(Ce,"H1",{id:!0,class:!0});var Re=v(l);s=fe(Re,n),Re.forEach(d),i=L(Ce),u=f(Ce,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),H(u)!=="svelte-1wjf92z"&&(u.textContent=c),Ce.forEach(d),_=L(X),m=f(X,"FORM",{class:!0});var de=v(m);k=f(de,"DIV",{});var ve=v(k);E=f(ve,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),H(E)!=="svelte-nrs47v"&&(E.textContent=C),I=L(ve),x=f(ve,"INPUT",{id:!0,class:!0,minlength:!0,placeholder:!0}),b=L(ve),Q&&Q.l(ve),ve.forEach(d),z=L(de),g=f(de,"DIV",{});var Le=v(g);p=f(Le,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),H(p)!=="svelte-ox5b57"&&(p.textContent=R),A=L(Le),M=f(Le,"INPUT",{id:!0,type:!0,style:!0,class:!0}),Le.forEach(d),ee=L(de),S=f(de,"DIV",{});var Te=v(S);K=f(Te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),H(K)!=="svelte-104pofw"&&(K.textContent=Y),W=L(Te),D=f(Te,"DIV",{class:!0});var Be=v(D);P=f(Be,"SELECT",{id:!0,class:!0,style:!0});var ge=v(P);O=f(ge,"DIV",{class:!0,"data-svelte-h":!0}),H(O)!=="svelte-1vshe2z"&&(O.innerHTML=F),B=f(ge,"OPTION",{"data-svelte-h":!0}),H(B)!=="svelte-9l3tpp"&&(B.textContent=q),Z=f(ge,"OPTION",{"data-svelte-h":!0}),H(Z)!=="svelte-g601g"&&(Z.textContent=ke),y=f(ge,"OPTION",{"data-svelte-h":!0}),H(y)!=="svelte-1pef7a7"&&(y.textContent=N),U=f(ge,"OPTION",{"data-svelte-h":!0}),H(U)!=="svelte-mbih9o"&&(U.textContent=le),ge.forEach(d),_e=L(Be),te=f(Be,"DIV",{class:!0,"data-svelte-h":!0}),H(te)!=="svelte-5am22z"&&(te.innerHTML=xe),Be.forEach(d),Te.forEach(d),ie=L(de),re=f(de,"DIV",{class:!0});var De=v(re);$=f(De,"BUTTON",{type:!0,class:!0});var Ue=v($);ue=fe(Ue,se),Ue.forEach(d),Oe=L(De),oe=f(De,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(oe)!=="svelte-1e58do9"&&(oe.textContent=Pe),De.forEach(d),de.forEach(d),X.forEach(d),Ee=L(j),G&&G.l(j),me=Xe(),this.h()},h(){r(l,"id","drawer-title"),r(l,"class","text-4xl font-bold text-pirate-gold tracking-wide gothic-font drop-shadow-[0_2px_0_rgba(0,0,0,0.6)]"),r(u,"class","rounded-lg px-2 py-1 bg-[#1C2F3A] hover:bg-[#2A3F4D] text-pirate-parchment"),r(u,"aria-label","Close drawer"),r(t,"class","p-4 border-b border-[#1C2F3A] flex items-center justify-between"),r(E,"class","block text-sm font-medium text-pirate-gold"),r(E,"for","name"),r(x,"id","name"),r(x,"class","mt-1 block w-full rounded-xl border border-white/10 bg-black/25 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pirate-gold/60"),x.required=!0,r(x,"minlength","2"),r(x,"placeholder","Full name"),r(p,"class","block text-sm font-medium text-pirate-gold"),r(p,"for","doi"),r(M,"id","doi"),r(M,"type","date"),Ie(M,"color-scheme","dark"),r(M,"class","mt-1 block w-full rounded-xl border border-white/10 bg-black/25 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pirate-gold/60"),M.required=!0,r(K,"class","block text-sm font-medium text-pirate-gold"),r(K,"for","leg"),r(O,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-white/50"),B.__value="Left",ce(B,B.__value),Z.__value="Right",ce(Z,Z.__value),y.__value="Both",ce(y,y.__value),U.__value="Other",ce(U,U.__value),r(P,"id","leg"),r(P,"class","mt-1 block w-full rounded-xl border border-white/10 bg-black/25 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pirate-gold/60 appearance-none pr-8"),Ie(P,"color-scheme","dark"),a[4]===void 0&&ft(()=>a[12].call(P)),r(te,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-white/50"),r(D,"class","relative"),r($,"type","submit"),r($,"class","rounded-xl px-4 py-2 font-semibold bg-pirate-gold/90 hover:bg-pirate-gold text-[#1B2A34] transition shadow-lg shadow-black/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-pirate-gold/90"),$.disabled=ye=!a[2].trim()||!Ne(a[3]),r(oe,"type","button"),r(oe,"class","rounded-xl px-4 py-2 font-medium bg-[#142833] hover:bg-[#1A3240] text-pirate-parchment transition"),r(re,"class","pt-2 flex gap-2"),r(m,"class","p-4 space-y-4 overflow-auto flex-1"),r(e,"id","person-drawer"),r(e,"class","fixed right-0 top-0 h-full w-full sm:w-[420px] max-w-full z-50 transform transition-transform duration-300 bg-[#091E26] border-l border-[#1C2F3A] flex flex-col shadow-2xl shadow-black/50"),r(e,"aria-modal","true"),r(e,"role","dialog"),r(e,"aria-labelledby","drawer-title"),Ie(e,"transform",a[0]?"translateX(0)":"translateX(100%)")},m(j,X){V(j,e,X),o(e,t),o(t,l),o(l,s),o(t,i),o(t,u),o(e,_),o(e,m),o(m,k),o(k,E),o(k,I),o(k,x),a[9](x),ce(x,a[2]),o(k,b),Q&&Q.m(k,null),o(m,z),o(m,g),o(g,p),o(g,A),o(g,M),ce(M,a[3]),o(m,ee),o(m,S),o(S,K),o(S,W),o(S,D),o(D,P),o(P,O),o(P,B),o(P,Z),o(P,y),o(P,U),qe(P,a[4],!0),o(D,_e),o(D,te),o(m,ie),o(m,re),o(re,$),o($,ue),o(re,Oe),o(re,oe),V(j,Ee,X),G&&G.m(j,X),V(j,me,X),Me||(Fe=[J(u,"click",a[6]),J(x,"input",a[10]),J(M,"input",a[11]),J(P,"change",a[12]),J(oe,"click",a[6]),J(m,"submit",ct(a[7]))],Me=!0)},p(j,[X]){X&2&&n!==(n=j[1]==="create"?"Add Lame":"Edit Lame")&&be(s,n),X&4&&x.value!==j[2]&&ce(x,j[2]),X&4&&(w=!j[2].trim()),w?Q||(Q=nt(),Q.c(),Q.m(k,null)):Q&&(Q.d(1),Q=null),X&8&&ce(M,j[3]),X&16&&qe(P,j[4]),X&2&&se!==(se=j[1]==="create"?"Add Lame":"Save changes")&&be(ue,se),X&12&&ye!==(ye=!j[2].trim()||!Ne(j[3]))&&($.disabled=ye),X&1&&Ie(e,"transform",j[0]?"translateX(0)":"translateX(100%)"),j[0]?G?G.p(j,X):(G=st(j),G.c(),G.m(me.parentNode,me)):G&&(G.d(1),G=null)},i:pe,o:pe,d(j){j&&(d(e),d(Ee),d(me)),a[9](null),Q&&Q.d(),G&&G.d(j),Me=!1,Ae(Fe)}}}function Ne(a){return/^\d{4}-\d{2}-\d{2}$/.test(a)&&!Number.isNaN(Date.parse(a))}function jt(a,e,t){const l=ot();let{open:n=!1}=e,{mode:s="create"}=e,{editingPerson:i=null}=e,u="",c="",_="Left",m=null;function k(){t(2,u=""),t(3,c=""),t(4,_="Left"),l("close")}function E(){const w=u.trim();!w||!Ne(c)||(l("submit",{name:w,dateOfInjury:c,injuredLeg:_,id:i==null?void 0:i.id}),t(2,u=""),t(3,c=""),t(4,_="Left"),k())}function C(w){it[w?"unshift":"push"](()=>{m=w,t(5,m)})}function I(){u=this.value,t(2,u),t(8,i),t(1,s)}function x(){c=this.value,t(3,c),t(8,i),t(1,s)}function b(){_=ht(this),t(4,_),t(8,i),t(1,s)}return a.$$set=w=>{"open"in w&&t(0,n=w.open),"mode"in w&&t(1,s=w.mode),"editingPerson"in w&&t(8,i=w.editingPerson)},a.$$.update=()=>{a.$$.dirty&258&&i&&s==="edit"&&(t(2,u=i.name),t(3,c=i.dateOfInjury),t(4,_=i.injuredLeg))},[n,s,u,c,_,m,k,E,i,C,I,x,b]}class Nt extends He{constructor(e){super(),Ve(this,e,jt,Mt,ze,{open:0,mode:1,editingPerson:8})}}function Ht(a){let e,t,l='<h1 class="text-5xl md:text-6xl font-bold text-pirate-gold tracking-wide gothic-font drop-shadow-[0_2px_0_rgba(0,0,0,0.6)]">Book a Lame</h1> <img src="/images/jolly roger 4.png" alt="Jolly Roger" class="w-52 h-52 mx-auto mt-8 mb-6 opacity-45 drop-shadow-[0_4px_12px_rgba(212,175,55,0.15)]"/>',n,s,i,u,c,_,m,k="Your Lames",E,C,I,x,b,w,z;return C=new Ot({props:{people:a[5],loading:a[0].loading,error:a[0].error}}),C.$on("create",a[6]),C.$on("edit",a[9]),C.$on("remove",a[10]),x=new Nt({props:{open:a[1],mode:a[2],editingPerson:a[3]}}),x.$on("close",a[7]),x.$on("submit",a[8]),{c(){e=h("div"),t=h("header"),t.innerHTML=l,n=T(),s=h("div"),i=h("button"),u=he("Add a Lame"),c=T(),_=h("div"),m=h("h3"),m.textContent=k,E=T(),We(C.$$.fragment),I=T(),We(x.$$.fragment),this.h()},l(g){e=f(g,"DIV",{class:!0});var p=v(e);t=f(p,"HEADER",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-2d7zqh"&&(t.innerHTML=l),n=L(p),s=f(p,"DIV",{class:!0});var R=v(s);i=f(R,"BUTTON",{class:!0,"aria-controls":!0,"aria-expanded":!0,"aria-label":!0});var A=v(i);u=fe(A,"Add a Lame"),A.forEach(d),R.forEach(d),c=L(p),_=f(p,"DIV",{class:!0});var M=v(_);m=f(M,"H3",{class:!0,"data-svelte-h":!0}),H(m)!=="svelte-hbkvqj"&&(m.textContent=k),E=L(M),Qe(C.$$.fragment,M),M.forEach(d),p.forEach(d),I=L(g),Qe(x.$$.fragment,g),this.h()},h(){r(t,"class","px-8 pt-8 pb-4 text-center"),r(i,"class","rounded-xl px-4 py-2 font-semibold bg-pirate-gold/90 hover:bg-pirate-gold text-[#1B2A34] transition shadow-lg shadow-black/30 ring-1 ring-black/40 focus:outline-none focus:ring-2 focus:ring-pirate-gold/60 focus:ring-offset-2 focus:ring-offset-[#06131A]"),r(i,"aria-controls","person-drawer"),r(i,"aria-expanded",a[1]),r(i,"aria-label","Add person"),r(s,"class","px-8 pb-4 flex justify-end"),r(m,"class","text-xl md:text-xl font-bold text-pirate-gold tracking-wide gothic-font"),r(_,"class","px-8 pb-8 flex-1"),r(e,"class","pirate-bg min-h-screen w-full text-[#E9E2D0] flex flex-col relative overflow-hidden svelte-omrg7s")},m(g,p){V(g,e,p),o(e,t),o(e,n),o(e,s),o(s,i),o(i,u),a[11](i),o(e,c),o(e,_),o(_,m),o(_,E),Ke(C,_,null),V(g,I,p),Ke(x,g,p),b=!0,w||(z=J(i,"click",a[6]),w=!0)},p(g,[p]){(!b||p&2)&&r(i,"aria-expanded",g[1]);const R={};p&32&&(R.people=g[5]),p&1&&(R.loading=g[0].loading),p&1&&(R.error=g[0].error),C.$set(R);const A={};p&2&&(A.open=g[1]),p&4&&(A.mode=g[2]),p&8&&(A.editingPerson=g[3]),x.$set(A)},i(g){b||(Je(C.$$.fragment,g),Je(x.$$.fragment,g),b=!0)},o(g){Ge(C.$$.fragment,g),Ge(x.$$.fragment,g),b=!1},d(g){g&&(d(e),d(I)),a[11](null),Ye(C),Ye(x,g),w=!1,z()}}}function Vt(a,e,t){let l;pt(a,we,b=>t(0,l=b));let n=!1,s="create",i=null,u=null,c=[];_t(()=>{we.load()});function _(){t(2,s="create"),t(3,i=null),t(1,n=!0)}function m(b){t(2,s="edit"),t(3,i=b),t(1,n=!0)}function k(){t(1,n=!1),u==null||u.focus()}function E(b){const{name:w,dateOfInjury:z,injuredLeg:g,id:p}=b.detail;s==="create"?we.add({name:w,dateOfInjury:z,injuredLeg:g}):s==="edit"&&p&&we.update(p,{name:w,dateOfInjury:z,injuredLeg:g}),k()}function C(b){m(b.detail)}function I(b){we.remove(b.detail)}function x(b){it[b?"unshift":"push"](()=>{u=b,t(4,u)})}return a.$$.update=()=>{a.$$.dirty&1&&t(5,c=l.data?[...l.data].sort((b,w)=>b.dateOfInjury<w.dateOfInjury?1:-1):[])},[l,n,s,i,u,c,_,k,E,C,I,x]}class Ut extends He{constructor(e){super(),Ve(this,e,Vt,Ht,ze,{})}}export{Ut as component};
