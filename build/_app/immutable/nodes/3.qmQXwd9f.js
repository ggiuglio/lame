import{o as Le,S as Oe,i as Ue,s as je,n as me,d as g,M as Ne,r as Ye,a as ne,U as He,V as qe,J as Be,b as Q,c as a,Q as ce,W as pt,I as c,X as mt,e as p,f as w,g as B,h as T,N as G,z as Fe,j as m,t as O,k as I,l as Pe,L as vt,Y as gt,Z as _t,E as st,q as Me,m as Ce,y as ct,G as ut,R as bt,H as dt,F as ft,x as ht}from"../chunks/CE_BPai5.js";import{p as yt,e as _e}from"../chunks/BDPtx0kL.js";import"../chunks/IHki7fMi.js";import{w as kt,g as Dt}from"../chunks/B4nVmeH8.js";const xt=({data:t})=>{const e=Le(yt);return{person:t.id?e.data.find(l=>l.id===t.id):void 0}},Rt=Object.freeze(Object.defineProperty({__proto__:null,load:xt},Symbol.toStringTag,{value:"Module"}));function wt(){const t=kt([]),{subscribe:e,update:l}=t;return{subscribe:e,isTimeSlotAvailable:(n,r)=>{const i=Le(t);return console.log("Checking availability for:",n,r,i),!i.some(o=>o.date===n&&o.time===r)},add:n=>{const r=Le(t);if(console.log("Adding appointment:",n,"Current appointments:",r),!r.some(i=>i.date===n.date&&i.time===n.time)){const i={...n,id:crypto.randomUUID()};return l(o=>[...o,i]),console.log("Added appointment:",i),!0}return!1},remove:n=>{Le(t),l(r=>r.filter(i=>i.id!==n))},getByDate:n=>{const i=Le(t).filter(o=>o.date===n);return console.log("Getting appointments for date:",n,i),i}}}const Ee=wt();function Re(t,e,l){const n=t.slice();return n[13]=e[l],n}function Xe(t,e,l){const n=t.slice();return n[16]=e[l],n}function Ct(t){let e,l="Your Lame is completely free today";return{c(){e=m("div"),e.textContent=l,this.h()},l(n){e=p(n,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-vpqzso"&&(e.textContent=l),this.h()},h(){c(e,"class","text-center text-pirate-gold py-4 text-lg")},m(n,r){Q(n,e,r)},p:me,d(n){n&&g(e)}}}function Et(t){let e,l=_e(t[5]),n=[];for(let r=0;r<l.length;r+=1)n[r]=Ge(Xe(t,l,r));return{c(){e=m("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=p(r,"DIV",{class:!0});var i=w(e);for(let o=0;o<n.length;o+=1)n[o].l(i);i.forEach(g),this.h()},h(){c(e,"class","space-y-2")},m(r,i){Q(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i&32){l=_e(r[5]);let o;for(o=0;o<l.length;o+=1){const h=Xe(r,l,o);n[o]?n[o].p(h,i):(n[o]=Ge(h),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(r){r&&g(e),Ne(n,r)}}}function Ge(t){let e,l,n,r=t[16].visitorName+"",i,o,h,f,u=t[16].time+"",v,_,s=`${((parseInt(t[16].time.split(":")[0])+1)%24).toString().padStart(2,"0")}:00`,D,z,H,b='<svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>',M,j,Y;function N(){return t[9](t[16])}return{c(){e=m("div"),l=m("div"),n=m("span"),i=O(r),o=I(),h=m("span"),f=O("• "),v=O(u),_=O(" - "),D=O(s),z=I(),H=m("button"),H.innerHTML=b,M=I(),this.h()},l(L){e=p(L,"DIV",{class:!0});var C=w(e);l=p(C,"DIV",{class:!0});var U=w(l);n=p(U,"SPAN",{class:!0});var K=w(n);i=B(K,r),K.forEach(g),o=T(U),h=p(U,"SPAN",{class:!0});var V=w(h);f=B(V,"• "),v=B(V,u),_=B(V," - "),D=B(V,s),V.forEach(g),U.forEach(g),z=T(C),H=p(C,"BUTTON",{class:!0,"data-svelte-h":!0}),G(H)!=="svelte-ksz4ao"&&(H.innerHTML=b),M=T(C),C.forEach(g),this.h()},h(){c(n,"class","text-pirate-parchment font-medium"),c(h,"class","text-pirate-parchment font-medium tracking-wide text-base"),c(l,"class","flex items-center gap-3"),c(H,"class","rounded-lg p-1.5 bg-[#1A3240] hover:bg-red-900/80 text-pirate-parchment transition opacity-0 group-hover:opacity-100 hover:text-red-100"),c(e,"class","flex items-center justify-between px-3 py-2 rounded-lg bg-[#142833]/50 hover:bg-[#1A3240] transition group")},m(L,C){Q(L,e,C),a(e,l),a(l,n),a(n,i),a(l,o),a(l,h),a(h,f),a(h,v),a(h,_),a(h,D),a(e,z),a(e,H),a(e,M),j||(Y=ce(H,"click",N),j=!0)},p(L,C){t=L,C&32&&r!==(r=t[16].visitorName+"")&&ne(i,r),C&32&&u!==(u=t[16].time+"")&&ne(v,u),C&32&&s!==(s=`${((parseInt(t[16].time.split(":")[0])+1)%24).toString().padStart(2,"0")}:00`)&&ne(D,s)},d(L){L&&g(e),j=!1,Y()}}}function Je(t){let e,l;return{c(){e=m("div"),l=O(t[4]),this.h()},l(n){e=p(n,"DIV",{class:!0});var r=w(e);l=B(r,t[4]),r.forEach(g),this.h()},h(){c(e,"class","p-2 rounded bg-red-900/20 border border-red-900/30 text-red-300 text-sm")},m(n,r){Q(n,e,r),a(e,l)},p(n,r){r&16&&ne(l,n[4])},d(n){n&&g(e)}}}function We(t){let e,l=t[13].toString().padStart(2,"0")+"",n,r,i=((t[13]+1)%24).toString().padStart(2,"0")+"",o,h;return{c(){e=m("option"),n=O(l),r=O(":00 - "),o=O(i),h=O(":00"),this.h()},l(f){e=p(f,"OPTION",{});var u=w(e);n=B(u,l),r=B(u,":00 - "),o=B(u,i),h=B(u,":00"),u.forEach(g),this.h()},h(){e.__value=`${t[13].toString().padStart(2,"0")}:00`,He(e,e.__value)},m(f,u){Q(f,e,u),a(e,n),a(e,r),a(e,o),a(e,h)},p:me,d(f){f&&g(e)}}}function Qe(t){let e,l,n;return{c(){e=m("div"),this.h()},l(r){e=p(r,"DIV",{class:!0,"aria-hidden":!0}),w(e).forEach(g),this.h()},h(){c(e,"class","fixed inset-0 bg-black/60 backdrop-blur-[2px] z-40"),c(e,"aria-hidden","true")},m(r,i){Q(r,e,i),l||(n=ce(e,"click",t[6]),l=!0)},p:me,d(r){r&&g(e),l=!1,n()}}}function St(t){var q;let e,l,n,r=(((q=t[1])==null?void 0:q.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}))||"")+"",i,o,h,f="✕",u,v,_,s,D="Existing Lame Appointments",z,H,b,M,j="Make a New Lame Appointment",Y,N,L,C,U,K="Visitor Name",V,R,re,J,ue,Se="Time",ie,$,W,le,ve="Select a time slot",xe,ee,ge='<svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',Ae,de,se='<button type="submit" form="appointmentForm" class="w-full rounded-lg px-3 py-2 bg-pirate-gold/90 hover:bg-pirate-gold text-[#1B2A34] transition shadow-lg shadow-black/30 ring-1 ring-black/40 focus:outline-none focus:ring-2 focus:ring-pirate-gold/60 focus:ring-offset-2 focus:ring-offset-[#06131A]">Save Appointment</button>',be,Z,fe,Te;function Ve(y,d){return y[5].length>0?Et:Ct}let P=Ve(t),X=P(t),k=t[4]&&Je(t),ke=_e(Array.from({length:24},Ze)),F=[];for(let y=0;y<ke.length;y+=1)F[y]=We(Re(t,ke,y));let A=t[0]&&Qe(t);return{c(){e=m("aside"),l=m("div"),n=m("h1"),i=O(r),o=I(),h=m("button"),h.textContent=f,u=I(),v=m("div"),_=m("div"),s=m("h2"),s.textContent=D,z=I(),X.c(),H=I(),b=m("div"),M=m("h2"),M.textContent=j,Y=I(),N=m("form"),k&&k.c(),L=I(),C=m("div"),U=m("label"),U.textContent=K,V=I(),R=m("input"),re=I(),J=m("div"),ue=m("label"),ue.textContent=Se,ie=I(),$=m("div"),W=m("select"),le=m("option"),le.textContent=ve;for(let y=0;y<F.length;y+=1)F[y].c();xe=I(),ee=m("div"),ee.innerHTML=ge,Ae=I(),de=m("div"),de.innerHTML=se,be=I(),A&&A.c(),Z=Fe(),this.h()},l(y){e=p(y,"ASIDE",{class:!0,"aria-modal":!0,role:!0,"aria-labelledby":!0});var d=w(e);l=p(d,"DIV",{class:!0});var x=w(l);n=p(x,"H1",{id:!0,class:!0});var S=w(n);i=B(S,r),S.forEach(g),o=T(x),h=p(x,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),G(h)!=="svelte-1ainfb"&&(h.textContent=f),x.forEach(g),u=T(d),v=p(d,"DIV",{class:!0});var ae=w(v);_=p(ae,"DIV",{class:!0});var E=w(_);s=p(E,"H2",{class:!0,"data-svelte-h":!0}),G(s)!=="svelte-jkeiy7"&&(s.textContent=D),z=T(E),X.l(E),E.forEach(g),H=T(ae),b=p(ae,"DIV",{class:!0});var te=w(b);M=p(te,"H2",{class:!0,"data-svelte-h":!0}),G(M)!=="svelte-1hxsdw8"&&(M.textContent=j),Y=T(te),N=p(te,"FORM",{id:!0,class:!0});var oe=w(N);k&&k.l(oe),L=T(oe),C=p(oe,"DIV",{});var he=w(C);U=p(he,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),G(U)!=="svelte-1nrtjnb"&&(U.textContent=K),V=T(he),R=p(he,"INPUT",{id:!0,class:!0,placeholder:!0}),he.forEach(g),re=T(oe),J=p(oe,"DIV",{});var pe=w(J);ue=p(pe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),G(ue)!=="svelte-b3gm37"&&(ue.textContent=Se),ie=T(pe),$=p(pe,"DIV",{class:!0});var ye=w($);W=p(ye,"SELECT",{id:!0,class:!0,style:!0});var Ie=w(W);le=p(Ie,"OPTION",{"data-svelte-h":!0}),G(le)!=="svelte-dszp6o"&&(le.textContent=ve);for(let De=0;De<F.length;De+=1)F[De].l(Ie);Ie.forEach(g),xe=T(ye),ee=p(ye,"DIV",{class:!0,"data-svelte-h":!0}),G(ee)!=="svelte-5am22z"&&(ee.innerHTML=ge),ye.forEach(g),pe.forEach(g),oe.forEach(g),Ae=T(te),de=p(te,"DIV",{class:!0,"data-svelte-h":!0}),G(de)!=="svelte-hvgzxs"&&(de.innerHTML=se),te.forEach(g),ae.forEach(g),d.forEach(g),be=T(y),A&&A.l(y),Z=Fe(),this.h()},h(){c(n,"id","drawer-title"),c(n,"class","text-lg font-bold text-pirate-gold tracking-wide gothic-font"),c(h,"class","rounded-lg p-2 bg-[#1C2F3A] hover:bg-[#2A3F4D] text-pirate-parchment transition"),c(h,"aria-label","Close drawer"),c(l,"class","p-4 border-b border-[#1C2F3A] flex items-center justify-between"),c(s,"class","text-lg font-bold text-pirate-gold mb-4 gothic-font"),c(_,"class","p-4 border-b border-[#1C2F3A]"),c(M,"class","text-lg font-bold text-pirate-gold mb-4 gothic-font"),c(U,"class","block text-sm font-medium text-pirate-gold"),c(U,"for","visitorName"),c(R,"id","visitorName"),c(R,"class","mt-1 block w-full rounded-xl border border-white/10 bg-black/25 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pirate-gold/60"),R.required=!0,c(R,"placeholder","Enter visitor's name"),c(ue,"class","block text-sm font-medium text-pirate-gold"),c(ue,"for","time"),le.__value="",He(le,le.__value),le.disabled=!0,c(W,"id","time"),c(W,"class","mt-1 block w-full rounded-xl border border-white/10 bg-black/25 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pirate-gold/60 appearance-none pr-8"),Be(W,"color-scheme","dark"),W.required=!0,t[2]===void 0&&mt(()=>t[11].call(W)),c(ee,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-white/50"),c($,"class","relative"),c(N,"id","appointmentForm"),c(N,"class","space-y-4"),c(de,"class","p-4 border-t border-[#1C2F3A] mt-auto"),c(b,"class","p-4"),c(v,"class","flex-1 overflow-auto"),c(e,"class","fixed right-0 top-0 h-full w-full sm:w-[420px] max-w-full z-50 transform transition-transform duration-300 bg-[#091E26] border-l border-[#1C2F3A] flex flex-col shadow-2xl shadow-black/50"),c(e,"aria-modal","true"),c(e,"role","dialog"),c(e,"aria-labelledby","drawer-title"),Be(e,"transform",t[0]?"translateX(0)":"translateX(100%)")},m(y,d){Q(y,e,d),a(e,l),a(l,n),a(n,i),a(l,o),a(l,h),a(e,u),a(e,v),a(v,_),a(_,s),a(_,z),X.m(_,null),a(v,H),a(v,b),a(b,M),a(b,Y),a(b,N),k&&k.m(N,null),a(N,L),a(N,C),a(C,U),a(C,V),a(C,R),He(R,t[3]),a(N,re),a(N,J),a(J,ue),a(J,ie),a(J,$),a($,W),a(W,le);for(let x=0;x<F.length;x+=1)F[x]&&F[x].m(W,null);qe(W,t[2],!0),a($,xe),a($,ee),a(b,Ae),a(b,de),Q(y,be,d),A&&A.m(y,d),Q(y,Z,d),fe||(Te=[ce(h,"click",t[6]),ce(R,"input",t[10]),ce(W,"change",t[11]),ce(N,"submit",pt(t[7]))],fe=!0)},p(y,[d]){var x;if(d&2&&r!==(r=(((x=y[1])==null?void 0:x.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}))||"")+"")&&ne(i,r),P===(P=Ve(y))&&X?X.p(y,d):(X.d(1),X=P(y),X&&(X.c(),X.m(_,null))),y[4]?k?k.p(y,d):(k=Je(y),k.c(),k.m(N,L)):k&&(k.d(1),k=null),d&8&&R.value!==y[3]&&He(R,y[3]),d&0){ke=_e(Array.from({length:24},Ze));let S;for(S=0;S<ke.length;S+=1){const ae=Re(y,ke,S);F[S]?F[S].p(ae,d):(F[S]=We(ae),F[S].c(),F[S].m(W,null))}for(;S<F.length;S+=1)F[S].d(1);F.length=ke.length}d&4&&qe(W,y[2]),d&1&&Be(e,"transform",y[0]?"translateX(0)":"translateX(100%)"),y[0]?A?A.p(y,d):(A=Qe(y),A.c(),A.m(Z.parentNode,Z)):A&&(A.d(1),A=null)},i:me,o:me,d(y){y&&(g(e),g(be),g(Z)),X.d(),k&&k.d(),Ne(F,y),A&&A.d(y),fe=!1,Ye(Te)}}}const Ze=(t,e)=>e;function At(t,e,l){let n,r;Pe(t,Ee,b=>l(8,r=b));let{open:i=!1}=e,{selectedDate:o=null}=e;const h=vt();let f="",u="",v="";function _(){h("close")}function s(){if(!f||!u||!o)return;const b=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`;if(!Ee.isTimeSlotAvailable(b,u)){l(4,v="Your Lame is busy at that time");return}l(4,v=""),h("save",{visitorName:f,time:u}),l(3,f=""),l(2,u=""),_()}const D=b=>{confirm(`Are you sure you want to remove ${b.visitorName}'s appointment?`)&&Ee.remove(b.id)};function z(){f=this.value,l(3,f)}function H(){u=gt(this),l(2,u)}return t.$$set=b=>{"open"in b&&l(0,i=b.open),"selectedDate"in b&&l(1,o=b.selectedDate)},t.$$.update=()=>{t.$$.dirty&4&&u&&l(4,v=""),t.$$.dirty&258&&l(5,n=o?r.filter(b=>{const M=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`;return b.date===M}).sort((b,M)=>b.time.localeCompare(M.time)):[])},[i,o,u,f,v,n,_,s,r,D,z,H]}class Tt extends Oe{constructor(e){super(),Ue(this,e,At,St,je,{open:0,selectedDate:1})}}function Ke(t,e,l){const n=t.slice();return n[9]=e[l],n}function $e(t){let e,l,n,r,i=t[9].time.split(":")[0]+"",o,h,f=t[9].visitorName+"",u,v;return{c(){e=m("div"),l=m("div"),n=I(),r=m("div"),o=O(i),h=O(":00 • "),u=O(f),v=I(),this.h()},l(_){e=p(_,"DIV",{class:!0});var s=w(e);l=p(s,"DIV",{class:!0}),w(l).forEach(g),n=T(s),r=p(s,"DIV",{class:!0});var D=w(r);o=B(D,i),h=B(D,":00 • "),u=B(D,f),D.forEach(g),v=T(s),s.forEach(g),this.h()},h(){c(l,"class","w-0.5 h-0.5 rounded-full bg-pirate-gold flex-shrink-0"),c(r,"class","truncate text-[0.65rem] text-pirate-parchment/90"),c(e,"class","flex items-center gap-0.5 mt-0.5")},m(_,s){Q(_,e,s),a(e,l),a(e,n),a(e,r),a(r,o),a(r,h),a(r,u),a(e,v)},p(_,s){s&8&&i!==(i=_[9].time.split(":")[0]+"")&&ne(o,i),s&8&&f!==(f=_[9].visitorName+"")&&ne(u,f)},d(_){_&&g(e)}}}function It(t){let e,l,n,r,i,o,h,f=_e(t[3]),u=[];for(let v=0;v<f.length;v+=1)u[v]=$e(Ke(t,f,v));return{c(){e=m("button"),l=m("span"),n=O(t[0]),r=I();for(let v=0;v<u.length;v+=1)u[v].c();this.h()},l(v){e=p(v,"BUTTON",{class:!0,tabindex:!0});var _=w(e);l=p(_,"SPAN",{class:!0});var s=w(l);n=B(s,t[0]),s.forEach(g),r=T(_);for(let D=0;D<u.length;D+=1)u[D].l(_);_.forEach(g),this.h()},h(){c(l,"class","text-sm font-medium"),c(e,"class",i="aspect-square p-2 rounded-lg "+(t[1]?"bg-[#142833] ring-2 ring-pirate-gold":"bg-[#142833]/50")+" hover:bg-[#1A3240] text-pirate-parchment transition flex flex-col relative focus:outline-none focus:ring-2 focus:ring-pirate-gold/60"),c(e,"tabindex","0")},m(v,_){Q(v,e,_),a(e,l),a(l,n),a(e,r);for(let s=0;s<u.length;s+=1)u[s]&&u[s].m(e,null);o||(h=[ce(e,"click",function(){_t(t[2])&&t[2].apply(this,arguments)}),ce(e,"keydown",t[8])],o=!0)},p(v,[_]){if(t=v,_&1&&ne(n,t[0]),_&8){f=_e(t[3]);let s;for(s=0;s<f.length;s+=1){const D=Ke(t,f,s);u[s]?u[s].p(D,_):(u[s]=$e(D),u[s].c(),u[s].m(e,null))}for(;s<u.length;s+=1)u[s].d(1);u.length=f.length}_&2&&i!==(i="aspect-square p-2 rounded-lg "+(t[1]?"bg-[#142833] ring-2 ring-pirate-gold":"bg-[#142833]/50")+" hover:bg-[#1A3240] text-pirate-parchment transition flex flex-col relative focus:outline-none focus:ring-2 focus:ring-pirate-gold/60")&&c(e,"class",i)},i:me,o:me,d(v){v&&g(e),Ne(u,v),o=!1,Ye(h)}}}function Mt(t){return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}function Vt(t,e,l){let n,r,i;Pe(t,Ee,s=>l(7,i=s));let{day:o}=e,{year:h}=e,{month:f}=e,{isToday:u}=e,{onClick:v}=e;const _=s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),v())};return t.$$set=s=>{"day"in s&&l(0,o=s.day),"year"in s&&l(4,h=s.year),"month"in s&&l(5,f=s.month),"isToday"in s&&l(1,u=s.isToday),"onClick"in s&&l(2,v=s.onClick)},t.$$.update=()=>{t.$$.dirty&49&&l(6,n=Mt(new Date(h,f,o))),t.$$.dirty&192&&l(3,r=i.filter(s=>s.date===n))},[o,u,v,r,h,f,n,i,_]}class Lt extends Oe{constructor(e){super(),Ue(this,e,Vt,It,je,{day:0,year:4,month:5,isToday:1,onClick:2})}}function et(t,e,l){const n=t.slice();return n[23]=e[l],n}function tt(t,e,l){const n=t.slice();return n[26]=e[l],n[28]=l,n}function lt(t){let e,l="(Current)";return{c(){e=m("span"),e.textContent=l,this.h()},l(n){e=p(n,"SPAN",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-7iyix6"&&(e.textContent=l),this.h()},h(){c(e,"class","text-sm text-pirate-gold/60 ml-2")},m(n,r){Q(n,e,r)},d(n){n&&g(e)}}}function Nt(t){let e,l="<span>·</span> ";return{c(){e=m("div"),e.innerHTML=l,this.h()},l(n){e=p(n,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-aguxxs"&&(e.innerHTML=l),this.h()},h(){c(e,"class","aspect-square p-1 rounded-lg bg-[#142833]/20 text-pirate-parchment/30 flex items-center justify-center")},m(n,r){Q(n,e,r)},p:me,i:me,o:me,d(n){n&&g(e)}}}function Ht(t){let e,l;function n(){return t[17](t[26])}return e=new Lt({props:{day:t[26],year:t[2],month:t[1],isToday:t[10](t[26]),onClick:n}}),{c(){ft(e.$$.fragment)},l(r){dt(e.$$.fragment,r)},m(r,i){ut(e,r,i),l=!0},p(r,i){t=r;const o={};i&32&&(o.day=t[26]),i&4&&(o.year=t[2]),i&2&&(o.month=t[1]),i&32&&(o.isToday=t[10](t[26])),i&32&&(o.onClick=n),e.$set(o)},i(r){l||(Ce(e.$$.fragment,r),l=!0)},o(r){Me(e.$$.fragment,r),l=!1},d(r){st(e,r)}}}function nt(t){let e,l,n,r;const i=[Ht,Nt],o=[];function h(f,u){return f[26]!==null?0:1}return e=h(t),l=o[e]=i[e](t),{c(){l.c(),n=Fe()},l(f){l.l(f),n=Fe()},m(f,u){o[e].m(f,u),Q(f,n,u),r=!0},p(f,u){let v=e;e=h(f),e===v?o[e].p(f,u):(ht(),Me(o[v],1,1,()=>{o[v]=null}),ct(),l=o[e],l?l.p(f,u):(l=o[e]=i[e](f),l.c()),Ce(l,1),l.m(n.parentNode,n))},i(f){r||(Ce(l),r=!0)},o(f){Me(l),r=!1},d(f){f&&g(n),o[e].d(f)}}}function rt(t){let e,l=`Your Lame is completely free today
            `;return{c(){e=m("div"),e.textContent=l,this.h()},l(n){e=p(n,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-aw1diw"&&(e.textContent=l),this.h()},h(){c(e,"class","text-center text-pirate-gold py-4 text-lg")},m(n,r){Q(n,e,r)},p:me,d(n){n&&g(e)}}}function at(t){let e,l,n,r=t[23].visitorName+"",i,o,h,f=new Date(t[23].date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})+"",u,v,_=ot(t[23].time)+"",s,D,z,H='<svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>',b,M,j;function Y(){return t[18](t[23])}return{c(){e=m("div"),l=m("div"),n=m("div"),i=O(r),o=I(),h=m("div"),u=O(f),v=O(" at "),s=O(_),D=I(),z=m("button"),z.innerHTML=H,b=I(),this.h()},l(N){e=p(N,"DIV",{class:!0});var L=w(e);l=p(L,"DIV",{});var C=w(l);n=p(C,"DIV",{class:!0});var U=w(n);i=B(U,r),U.forEach(g),o=T(C),h=p(C,"DIV",{class:!0});var K=w(h);u=B(K,f),v=B(K," at "),s=B(K,_),K.forEach(g),C.forEach(g),D=T(L),z=p(L,"BUTTON",{class:!0,"data-svelte-h":!0}),G(z)!=="svelte-1m26d56"&&(z.innerHTML=H),b=T(L),L.forEach(g),this.h()},h(){c(n,"class","text-pirate-parchment font-medium"),c(h,"class","text-sm text-pirate-parchment/70"),c(z,"class","rounded-lg p-2 bg-[#142833] hover:bg-[#1A3240] text-pirate-parchment transition"),c(e,"class","flex items-center justify-between p-3 rounded-lg bg-[#142833]/50 hover:bg-[#1A3240] transition")},m(N,L){Q(N,e,L),a(e,l),a(l,n),a(n,i),a(l,o),a(l,h),a(h,u),a(h,v),a(h,s),a(e,D),a(e,z),a(e,b),M||(j=ce(z,"click",Y),M=!0)},p(N,L){t=N,L&256&&r!==(r=t[23].visitorName+"")&&ne(i,r),L&256&&f!==(f=new Date(t[23].date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})+"")&&ne(u,f),L&256&&_!==(_=ot(t[23].time)+"")&&ne(s,_)},d(N){N&&g(e),M=!1,j()}}}function Ft(t){var y;let e,l,n,r,i="← Back",o,h,f,u=(((y=t[0].person)==null?void 0:y.name)||"")+"",v,_,s,D,z,H,b,M,j,Y,N='<svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>',L,C,U,K,V,R,re,J,ue='<svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg>',Se,ie,$,W="<div>Sun</div> <div>Mon</div> <div>Tue</div> <div>Wed</div> <div>Thu</div> <div>Fri</div> <div>Sat</div>",le,ve,xe,ee,ge,Ae="Upcoming Appointments",de,se,be,Z,fe,Te,Ve,P=t[7]&&lt(),X=_e(t[5]),k=[];for(let d=0;d<X.length;d+=1)k[d]=nt(tt(t,X,d));const ke=d=>Me(k[d],1,1,()=>{k[d]=null});let F=_e([...t[8]].sort(it)),A=[];for(let d=0;d<F.length;d+=1)A[d]=at(et(t,F,d));let q=null;return F.length||(q=rt()),Z=new Tt({props:{open:t[3],selectedDate:t[4]}}),Z.$on("close",t[19]),Z.$on("save",t[20]),{c(){e=m("div"),l=m("header"),n=m("div"),r=m("button"),r.textContent=i,o=I(),h=m("h1"),f=O("My Lame "),v=O(u),_=O(" Appointments"),s=I(),D=m("img"),H=I(),b=m("div"),M=m("div"),j=m("div"),Y=m("button"),Y.innerHTML=N,L=I(),C=m("h3"),U=O(t[6]),K=I(),V=O(t[2]),R=I(),P&&P.c(),re=I(),J=m("button"),J.innerHTML=ue,Se=I(),ie=m("div"),$=m("div"),$.innerHTML=W,le=I(),ve=m("div");for(let d=0;d<k.length;d+=1)k[d].c();xe=I(),ee=m("div"),ge=m("h4"),ge.textContent=Ae,de=I(),se=m("div");for(let d=0;d<A.length;d+=1)A[d].c();q&&q.c(),be=I(),ft(Z.$$.fragment),this.h()},l(d){e=p(d,"DIV",{class:!0});var x=w(e);l=p(x,"HEADER",{class:!0});var S=w(l);n=p(S,"DIV",{class:!0});var ae=w(n);r=p(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-rmlhv4"&&(r.textContent=i),ae.forEach(g),o=T(S),h=p(S,"H1",{class:!0});var E=w(h);f=B(E,"My Lame "),v=B(E,u),_=B(E," Appointments"),E.forEach(g),s=T(S),D=p(S,"IMG",{src:!0,alt:!0,class:!0}),S.forEach(g),H=T(x),b=p(x,"DIV",{class:!0});var te=w(b);M=p(te,"DIV",{class:!0});var oe=w(M);j=p(oe,"DIV",{class:!0});var he=w(j);Y=p(he,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),G(Y)!=="svelte-hmu1mc"&&(Y.innerHTML=N),L=T(he),C=p(he,"H3",{class:!0});var pe=w(C);U=B(pe,t[6]),K=T(pe),V=B(pe,t[2]),R=T(pe),P&&P.l(pe),pe.forEach(g),re=T(he),J=p(he,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),G(J)!=="svelte-19fy6ae"&&(J.innerHTML=ue),he.forEach(g),Se=T(oe),ie=p(oe,"DIV",{class:!0});var ye=w(ie);$=p(ye,"DIV",{class:!0,"data-svelte-h":!0}),G($)!=="svelte-nfjih"&&($.innerHTML=W),le=T(ye),ve=p(ye,"DIV",{class:!0});var Ie=w(ve);for(let we=0;we<k.length;we+=1)k[we].l(Ie);Ie.forEach(g),ye.forEach(g),xe=T(oe),ee=p(oe,"DIV",{class:!0});var De=w(ee);ge=p(De,"H4",{class:!0,"data-svelte-h":!0}),G(ge)!=="svelte-j1n1xa"&&(ge.textContent=Ae),de=T(De),se=p(De,"DIV",{class:!0});var ze=w(se);for(let we=0;we<A.length;we+=1)A[we].l(ze);q&&q.l(ze),ze.forEach(g),De.forEach(g),oe.forEach(g),te.forEach(g),x.forEach(g),be=T(d),dt(Z.$$.fragment,d),this.h()},h(){c(r,"class","rounded-lg px-3 py-1 bg-[#142833] hover:bg-[#1A3240] text-pirate-parchment transition"),c(n,"class","flex justify-start mb-4"),c(h,"class","text-5xl md:text-6xl font-bold text-pirate-gold tracking-wide gothic-font drop-shadow-[0_2px_0_rgba(0,0,0,0.6)]"),bt(D.src,z="/images/jolly roger 4.png")||c(D,"src",z),c(D,"alt","Jolly Roger"),c(D,"class","w-52 h-52 mx-auto mt-8 mb-6 opacity-45 drop-shadow-[0_4px_12px_rgba(212,175,55,0.15)]"),c(l,"class","px-8 pt-8 pb-4 text-center"),c(Y,"class","rounded-lg p-2 bg-[#142833] hover:bg-[#1A3240] text-pirate-parchment transition focus:outline-none focus:ring-2 focus:ring-pirate-gold/60"),c(Y,"aria-label","Previous month"),c(C,"class","text-xl font-bold text-pirate-gold tracking-wide gothic-font"),c(J,"class","rounded-lg p-2 bg-[#142833] hover:bg-[#1A3240] text-pirate-parchment transition focus:outline-none focus:ring-2 focus:ring-pirate-gold/60"),c(J,"aria-label","Next month"),c(j,"class","p-4 border-b border-[#1C2F3A] flex items-center justify-between"),c($,"class","grid grid-cols-7 gap-1 mb-2 text-center text-sm text-pirate-parchment/70"),c(ve,"class","grid grid-cols-7 gap-1"),c(ie,"class","p-4"),c(ge,"class","text-lg font-bold text-pirate-gold tracking-wide gothic-font mb-4"),c(se,"class","space-y-3"),c(ee,"class","p-4 border-t border-[#1C2F3A]"),c(M,"class","max-w-3xl mx-auto bg-[#0E1F29]/60 backdrop-blur-sm rounded-xl border border-[#1C2F3A] shadow-lg shadow-black/20"),c(b,"class","px-8 pb-8 flex-1"),c(e,"class","pirate-bg min-h-screen w-full text-[#E9E2D0] flex flex-col relative overflow-hidden svelte-omrg7s")},m(d,x){Q(d,e,x),a(e,l),a(l,n),a(n,r),a(l,o),a(l,h),a(h,f),a(h,v),a(h,_),a(l,s),a(l,D),a(e,H),a(e,b),a(b,M),a(M,j),a(j,Y),a(j,L),a(j,C),a(C,U),a(C,K),a(C,V),a(C,R),P&&P.m(C,null),a(j,re),a(j,J),a(M,Se),a(M,ie),a(ie,$),a(ie,le),a(ie,ve);for(let S=0;S<k.length;S+=1)k[S]&&k[S].m(ve,null);a(M,xe),a(M,ee),a(ee,ge),a(ee,de),a(ee,se);for(let S=0;S<A.length;S+=1)A[S]&&A[S].m(se,null);q&&q.m(se,null),Q(d,be,x),ut(Z,d,x),fe=!0,Te||(Ve=[ce(r,"click",t[16]),ce(Y,"click",t[11]),ce(J,"click",t[12])],Te=!0)},p(d,[x]){var ae;if((!fe||x&1)&&u!==(u=(((ae=d[0].person)==null?void 0:ae.name)||"")+"")&&ne(v,u),(!fe||x&64)&&ne(U,d[6]),(!fe||x&4)&&ne(V,d[2]),d[7]?P||(P=lt(),P.c(),P.m(C,null)):P&&(P.d(1),P=null),x&1574){X=_e(d[5]);let E;for(E=0;E<X.length;E+=1){const te=tt(d,X,E);k[E]?(k[E].p(te,x),Ce(k[E],1)):(k[E]=nt(te),k[E].c(),Ce(k[E],1),k[E].m(ve,null))}for(ht(),E=X.length;E<k.length;E+=1)ke(E);ct()}if(x&256){F=_e([...d[8]].sort(it));let E;for(E=0;E<F.length;E+=1){const te=et(d,F,E);A[E]?A[E].p(te,x):(A[E]=at(te),A[E].c(),A[E].m(se,null))}for(;E<A.length;E+=1)A[E].d(1);A.length=F.length,!F.length&&q?q.p(d,x):F.length?q&&(q.d(1),q=null):(q=rt(),q.c(),q.m(se,null))}const S={};x&8&&(S.open=d[3]),x&16&&(S.selectedDate=d[4]),Z.$set(S)},i(d){if(!fe){for(let x=0;x<X.length;x+=1)Ce(k[x]);Ce(Z.$$.fragment,d),fe=!0}},o(d){k=k.filter(Boolean);for(let x=0;x<k.length;x+=1)Me(k[x]);Me(Z.$$.fragment,d),fe=!1},d(d){d&&(g(e),g(be)),P&&P.d(),Ne(k,d),Ne(A,d),q&&q.d(),st(Z,d),Te=!1,Ye(Ve)}}}function zt(t,e){return new Date(t,e+1,0).getDate()}function Bt(t,e){return new Date(t,e,1).getDay()}function Ot(t){return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}function ot(t){const e=t.split(":")[0],l=((parseInt(e)+1)%24).toString().padStart(2,"0");return`${t} - ${l}:00`}const it=(t,e)=>t.date.localeCompare(e.date)||t.time.localeCompare(e.time);function Ut(t,e,l){let n,r,i,o,h,f,u,v;Pe(t,Ee,V=>l(8,v=V));let{data:_}=e;const s=new Date(2025,8,11);let D=new Date(2025,8,1),z=!1,H=null;function b(V){l(4,H=new Date(r,i,V)),console.log("Selected date:",H,"year:",r,"month:",i,"day:",V),l(3,z=!0)}function M(V){return r===s.getFullYear()&&i===s.getMonth()&&V===s.getDate()}function j(){l(13,D=new Date(r,i-1,1))}function Y(){l(13,D=new Date(r,i+1,1))}const N=()=>Dt("/"),L=V=>b(V),C=V=>{confirm(`Are you sure you want to remove ${V.visitorName}'s appointment?`)&&Ee.remove(V.id)},U=()=>l(3,z=!1),K=({detail:{visitorName:V,time:R}})=>{if(!H)return;const re=Ot(H);Ee.add({date:re,visitorName:V,time:R})&&l(3,z=!1)};return t.$$set=V=>{"data"in V&&l(0,_=V.data)},t.$$.update=()=>{t.$$.dirty&8192&&l(2,r=D.getFullYear()),t.$$.dirty&8192&&l(1,i=D.getMonth()),t.$$.dirty&6&&l(7,n=s.getFullYear()===r&&s.getMonth()===i),t.$$.dirty&8192&&l(6,o=new Intl.DateTimeFormat("en-US",{month:"long"}).format(D)),t.$$.dirty&6&&l(14,h=zt(r,i)),t.$$.dirty&6&&l(15,f=Bt(r,i)),t.$$.dirty&49152&&l(5,u=Array(42).fill(null).map((V,R)=>{const re=R-f+1;return re>0&&re<=h?re:null}))},[_,i,r,z,H,u,o,n,v,b,M,j,Y,D,h,f,N,L,C,U,K]}class Xt extends Oe{constructor(e){super(),Ue(this,e,Ut,Ft,je,{data:0})}}export{Xt as component,Rt as universal};
