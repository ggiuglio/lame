import"../chunks/CWj6FrbW.js";import"../chunks/Cv8X04vp.js";import{p as ve,a9 as De,aa as ue,ab as pe,k as M,m as u,n as fe,g as e,h as le,T as r,Q as j,o as a,v as t,s as i,ac as Pe,l as ge,t as ae,w as U,a8 as ze,u as H,ad as L,ae as N,af as Ne,ag as Ve}from"../chunks/BA_dKbwA.js";import{e as ke,s as Le,c as Re,i as Te,a as je,b as Be,d as Se,f as qe,r as Ae,p as He,g as te,h as Xe}from"../chunks/DmPJ4Yyj.js";import{b as Ie}from"../chunks/BmW4j8BC.js";import{i as be}from"../chunks/CDPpAZW9.js";import{p as W,i as I,s as Je,a as Qe}from"../chunks/BYHWiXdF.js";import{g as Ye}from"../chunks/CTKGYYx6.js";var Ge=M('<tr aria-hidden="true"><td class="px-4 py-3"><div class="h-4 w-32 bg-[#142833] rounded animate-pulse"></div></td><td class="px-4 py-3"><div class="h-4 w-24 bg-[#142833] rounded animate-pulse"></div></td><td class="px-4 py-3"><div class="h-4 w-16 bg-[#142833] rounded animate-pulse"></div></td><td class="px-4 py-3 space-x-2"><div class="inline-block h-8 w-14 bg-[#142833] rounded-lg animate-pulse"></div> <div class="inline-block h-8 w-20 bg-[#142833] rounded-lg animate-pulse"></div></td></tr>'),Ke=M('<table class="min-w-full text-sm text-left"><thead class="sticky top-0 z-10 bg-[#3B0A0A] text-pirate-parchment uppercase tracking-wide"><tr class="[&amp;>th]:px-4 [&amp;>th]:py-3"><th>Name</th><th>Date of Injury</th><th>Injured Leg</th><th class="w-28"></th></tr></thead><tbody></tbody></table>'),Ue=M('<div class="flex items-center justify-center py-12"><div class="flex items-center gap-2 text-sm text-[#FF4444]"><svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg> </div></div>'),We=N('<path fill-rule="evenodd" d="M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 13.586l3.293-3.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>'),Ze=N('<path fill-rule="evenodd" d="M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L10 6.414 6.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>'),$e=N('<svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><!></svg>'),et=N('<path fill-rule="evenodd" d="M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 13.586l3.293-3.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>'),tt=N('<path fill-rule="evenodd" d="M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L10 6.414 6.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>'),at=N('<svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><!></svg>'),rt=N('<path fill-rule="evenodd" d="M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 13.586l3.293-3.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>'),ot=N('<path fill-rule="evenodd" d="M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L10 6.414 6.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>'),lt=N('<svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><!></svg>'),it=M(`<tr class="bg-[#0B1720]"><td colspan="4" class="px-4 py-12 text-center"><div class="text-pirate-gold text-lg gothic-font tracking-wide">No Lames today, but just wait the crocodiles' season is about to start!</div></td></tr>`),st=M('<tr tabindex="0"><td class="px-4 py-3"><div class="block w-full h-full focus:outline-none"> </div></td><td class="px-4 py-3"><div class="block w-full h-full focus:outline-none"> </div></td><td class="px-4 py-3"><div class="block w-full h-full focus:outline-none"> </div></td><td class="px-4 py-3 space-x-2 whitespace-nowrap"><button class="rounded-lg p-2 bg-pirate-gold/90 hover:bg-pirate-gold text-[#1B2A34] transition shadow shadow-black/40 focus:outline-none focus:ring-2 focus:ring-pirate-gold/60 focus:ring-offset-2 focus:ring-offset-[#0B1720]" aria-label="Edit lame"><svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path></svg></button> <button class="rounded-lg p-2 bg-[#7A0000] hover:bg-[#9D0B0B] text-pirate-parchment transition shadow shadow-black/40 focus:outline-none focus:ring-2 focus:ring-[#9D0B0B]/60 focus:ring-offset-2 focus:ring-offset-[#0B1720]" aria-label="Remove lame"><svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></button></td></tr>'),dt=M('<table class="min-w-full text-sm text-left"><thead class="sticky top-0 z-10 bg-[#3B0A0A] text-pirate-parchment uppercase tracking-wide"><tr class="[&amp;>th]:px-4 [&amp;>th]:py-3"><th><button class="flex items-center gap-1 hover:text-pirate-gold transition focus:outline-none focus:text-pirate-gold"><span>Name</span> <!></button></th><th><button class="flex items-center gap-1 hover:text-pirate-gold transition focus:outline-none focus:text-pirate-gold"><span>Date of Injury</span> <!></button></th><th><button class="flex items-center gap-1 hover:text-pirate-gold transition focus:outline-none focus:text-pirate-gold"><span>Injured Leg</span> <!></button></th><th class="w-28"></th></tr></thead><tbody><!><!></tbody></table>'),nt=M('<div class="h-full overflow-auto rounded-xl border border-[#0C1A22] bg-[#0E1F29]/60 backdrop-blur-sm shadow-inner shadow-black/40"><!></div>');function ct(Z,B){ve(B,!1);const m=j();let F=W(B,"people",24,()=>[]),V=W(B,"loading",8,!1),f=W(B,"error",8,""),o=j("dateOfInjury"),l=j("desc");const b=De();function X(d){b("edit",d)}function J(d){confirm("Are you sure you want to remove this lame?")&&b("remove",d.id)}function E(d){Ye(`/lame?id=${d}`)}function Y(d){try{return new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit"}).format(new Date(d))}catch{return d}}ue(()=>(le(F()),e(l),e(o)),()=>{r(m,[...F()].sort((d,h)=>{const x=e(l)==="asc"?1:-1,_=d[e(o)],A=h[e(o)];return _<A?-1*x:_>A?1*x:0}))}),pe(),be();var R=nt(),T=a(R);{var G=d=>{var h=Ke(),x=i(a(h));ke(x,4,()=>Array(3),Te,(_,A,g)=>{var s=Ge();Le(s,1,Re(g%2===0?"bg-[#0B1720]/80":"bg-[#102532]/80")),u(_,s)}),t(x),t(h),u(d,h)},S=d=>{var h=Pe(),x=ge(h);{var _=g=>{var s=Ue(),w=a(s),D=i(a(w));t(w),t(s),ae(()=>U(D,` ${f()??""}`)),u(g,s)},A=g=>{var s=dt(),w=a(s),D=a(w),O=a(D),C=a(O),re=i(a(C),2);{var ie=p=>{var c=$e(),Q=a(c);{var k=v=>{var y=We();u(v,y)},P=v=>{var y=Ze();u(v,y)};I(Q,v=>{e(l)==="asc"?v(k):v(P,!1)})}t(c),u(p,c)};I(re,p=>{e(o)==="name"&&p(ie)})}t(C),t(O);var K=i(O),q=a(K),se=i(a(q),2);{var de=p=>{var c=at(),Q=a(c);{var k=v=>{var y=et();u(v,y)},P=v=>{var y=tt();u(v,y)};I(Q,v=>{e(l)==="asc"?v(k):v(P,!1)})}t(c),u(p,c)};I(se,p=>{e(o)==="dateOfInjury"&&p(de)})}t(q),t(K);var oe=i(K),$=a(oe),n=i(a($),2);{var z=p=>{var c=lt(),Q=a(c);{var k=v=>{var y=rt();u(v,y)},P=v=>{var y=ot();u(v,y)};I(Q,v=>{e(l)==="asc"?v(k):v(P,!1)})}t(c),u(p,c)};I(n,p=>{e(o)==="injuredLeg"&&p(z)})}t($),t(oe),ze(),t(D),t(w);var he=i(w),me=a(he);{var Me=p=>{var c=it();u(p,c)};I(me,p=>{le(F()),H(()=>F().length===0)&&p(Me)})}var Ce=i(me);ke(Ce,3,()=>e(m),p=>p.id,(p,c,Q)=>{var k=st(),P=a(k),v=a(P),y=a(v,!0);t(v),t(P);var ne=i(P),xe=a(ne),Fe=a(xe,!0);t(xe),t(ne);var ce=i(ne),_e=a(ce),Ee=a(_e,!0);t(_e),t(ce);var we=i(ce),ye=a(we),Oe=i(ye,2);t(we),t(k),ae(ee=>{Le(k,1,`${e(Q)%2===0?"bg-[#0B1720]/80":"bg-[#102532]/80"} cursor-pointer focus:outline-none focus:ring-2 focus:ring-pirate-gold/20 hover:bg-[#142833]`),U(y,(e(c),H(()=>e(c).name))),U(Fe,ee),U(Ee,(e(c),H(()=>e(c).injuredLeg)))},[()=>(e(c),H(()=>Y(e(c).dateOfInjury)))]),L("click",ye,je(()=>X(e(c)))),L("click",Oe,je(()=>J(e(c)))),L("click",k,()=>E(e(c).id)),L("keydown",k,ee=>{(ee.key==="Enter"||ee.key===" ")&&(ee.preventDefault(),E(e(c).id))}),u(p,k)}),t(he),t(s),L("click",C,()=>{e(o)==="name"?r(l,e(l)==="asc"?"desc":"asc"):(r(o,"name"),r(l,"asc"))}),L("click",q,()=>{e(o)==="dateOfInjury"?r(l,e(l)==="asc"?"desc":"asc"):(r(o,"dateOfInjury"),r(l,"desc"))}),L("click",$,()=>{e(o)==="injuredLeg"?r(l,e(l)==="asc"?"desc":"asc"):(r(o,"injuredLeg"),r(l,"asc"))}),u(g,s)};I(x,g=>{f()?g(_):g(A,!1)},!0)}u(d,h)};I(T,d=>{V()?d(G):d(S,!1)})}t(R),u(Z,R),fe()}var vt=M('<div class="text-[#FF4444] text-sm mt-1 flex items-center">Please enter a name</div>'),ut=M('<div class="fixed inset-0 bg-black/60 backdrop-blur-[2px] z-40" aria-hidden="true"></div>'),pt=M(`<aside id="person-drawer" class="fixed right-0 top-0 h-full w-full sm:w-[420px] max-w-full z-50 transform transition-transform duration-300
         bg-[#091E26] border-l border-[#1C2F3A] flex flex-col shadow-2xl shadow-black/50" aria-modal="true" role="dialog" aria-labelledby="drawer-title"><div class="p-4 border-b border-[#1C2F3A] flex items-center justify-between"><h1 id="drawer-title" class="text-4xl font-bold text-pirate-gold tracking-wide gothic-font drop-shadow-[0_2px_0_rgba(0,0,0,0.6)]"> </h1> <button class="rounded-lg px-2 py-1 bg-[#1C2F3A] hover:bg-[#2A3F4D] text-pirate-parchment" aria-label="Close drawer">âœ•</button></div> <form class="p-4 space-y-4 overflow-auto flex-1"><div><label class="block text-sm font-medium text-pirate-gold" for="name">Name</label> <input id="name" class="mt-1 block w-full rounded-xl border border-white/10 bg-black/25 text-white px-3 py-2
               focus:outline-none focus:ring-2 focus:ring-pirate-gold/60" required minlength="2" placeholder="Full name"/> <!></div> <div><label class="block text-sm font-medium text-pirate-gold" for="doi">Date of injury</label> <input id="doi" type="date" style="color-scheme: dark" class="mt-1 block w-full rounded-xl border border-white/10 bg-black/25 text-white px-3 py-2
               focus:outline-none focus:ring-2 focus:ring-pirate-gold/60" required/></div> <div><label class="block text-sm font-medium text-pirate-gold" for="leg">Injured leg</label> <div class="relative"><select id="leg" class="mt-1 block w-full rounded-xl border border-white/10 bg-black/25 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pirate-gold/60 appearance-none pr-8" style="color-scheme: dark"><option>Left</option><option>Right</option><option>Both</option><option>Other</option></select> <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-white/50"><svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></div></div></div> <div class="pt-2 flex gap-2"><button type="submit" class="rounded-xl px-4 py-2 font-semibold bg-pirate-gold/90 hover:bg-pirate-gold text-[#1B2A34] transition shadow-lg shadow-black/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-pirate-gold/90"> </button> <button type="button" class="rounded-xl px-4 py-2 font-medium bg-[#142833] hover:bg-[#1A3240] text-pirate-parchment transition">Cancel</button></div></form></aside> <!>`,1);function ft(Z,B){ve(B,!1);const m=De();let F=W(B,"open",8,!1),V=W(B,"mode",8,"create"),f=W(B,"editingPerson",8,null),o=j(""),l=j(""),b=j("Left"),X=j(null);function J(n){return/^\d{4}-\d{2}-\d{2}$/.test(n)&&!Number.isNaN(Date.parse(n))}function E(){r(o,""),r(l,""),r(b,"Left"),m("close")}function Y(){var z;const n=e(o).trim();!n||!J(e(l))||(m("submit",{name:n,dateOfInjury:e(l),injuredLeg:e(b),id:(z=f())==null?void 0:z.id}),r(o,""),r(l,""),r(b,"Left"),E())}ue(()=>(le(f()),le(V())),()=>{f()&&V()==="edit"&&(r(o,f().name),r(l,f().dateOfInjury),r(b,f().injuredLeg))}),pe(),be();var R=pt(),T=ge(R);let G;var S=a(T),d=a(S),h=a(d,!0);t(d);var x=i(d,2);t(S);var _=i(S,2),A=a(_),g=i(a(A),2);Ae(g),Ie(g,n=>r(X,n),()=>e(X));var s=i(g,2);{var w=n=>{var z=vt();u(n,z)};I(s,n=>{e(o),H(()=>!e(o).trim())&&n(w)})}t(A);var D=i(A,2),O=i(a(D),2);Ae(O),t(D);var C=i(D,2),re=i(a(C),2),ie=a(re);ae(()=>{e(b),Ne(()=>{})}),ze(2),t(re),t(C);var K=i(C,2),q=a(K),se=a(q,!0);t(q);var de=i(q,2);t(K),t(_),t(T);var oe=i(T,2);{var $=n=>{var z=ut();L("click",z,E),u(n,z)};I(oe,n=>{F()&&n($)})}ae((n,z)=>{G=qe(T,"",G,n),U(h,V()==="create"?"Add Lame":"Edit Lame"),q.disabled=z,U(se,V()==="create"?"Add Lame":"Save changes")},[()=>({transform:F()?"translateX(0)":"translateX(100%)"}),()=>(e(o),e(l),H(()=>!e(o).trim()||!J(e(l))))]),L("click",x,E),Be(g,()=>e(o),n=>r(o,n)),Be(O,()=>e(l),n=>r(l,n)),Se(ie,()=>e(b),n=>r(b,n)),L("click",de,E),L("submit",_,He(Y)),u(Z,R),fe()}var gt=M('<div class="pirate-bg min-h-screen w-full text-[#E9E2D0] flex flex-col relative overflow-hidden svelte-h7bcrl"><header class="px-8 pt-8 pb-4 text-center"><h1 class="text-5xl md:text-6xl font-bold text-pirate-gold tracking-wide gothic-font drop-shadow-[0_2px_0_rgba(0,0,0,0.6)]">Book a Lame</h1> <img src="/images/jolly roger 4.png" alt="Jolly Roger" class="w-52 h-52 mx-auto mt-8 mb-6 opacity-45 drop-shadow-[0_4px_12px_rgba(212,175,55,0.15)]"/></header> <div class="px-8 pb-4 flex justify-end"><button class="rounded-xl px-4 py-2 font-semibold bg-pirate-gold/90 hover:bg-pirate-gold text-[#1B2A34] transition shadow-lg shadow-black/30 ring-1 ring-black/40 focus:outline-none focus:ring-2 focus:ring-pirate-gold/60 focus:ring-offset-2 focus:ring-offset-[#06131A]" aria-controls="person-drawer" aria-label="Add person">Add a Lame</button></div> <div class="px-8 pb-8 flex-1"><h3 class="text-xl md:text-xl font-bold text-pirate-gold tracking-wide gothic-font">Your Lames</h3> <!></div></div> <!>',1);function Lt(Z,B){ve(B,!1);const m=()=>Qe(te,"$people",F),[F,V]=Je();let f=j(!1),o=j("create"),l=j(null),b=j(null),X=j([]);Ve(()=>{te.load()});function J(){r(o,"create"),r(l,null),r(f,!0)}function E(s){r(o,"edit"),r(l,s),r(f,!0)}function Y(){var s;r(f,!1),(s=e(b))==null||s.focus()}function R(s){const{name:w,dateOfInjury:D,injuredLeg:O,id:C}=s.detail;e(o)==="create"?te.add({name:w,dateOfInjury:D,injuredLeg:O}):e(o)==="edit"&&C&&te.update(C,{name:w,dateOfInjury:D,injuredLeg:O}),Y()}function T(s){E(s.detail)}function G(s){te.remove(s.detail)}ue(()=>m(),()=>{r(X,m().data?[...m().data].sort((s,w)=>s.dateOfInjury<w.dateOfInjury?1:-1):[])}),pe(),be();var S=gt(),d=ge(S),h=i(a(d),2),x=a(h);Ie(x,s=>r(b,s),()=>e(b)),t(h);var _=i(h,2),A=i(a(_),2);ct(A,{get people(){return e(X)},get loading(){return m(),H(()=>m().loading)},get error(){return m(),H(()=>m().error)},$$events:{create:J,edit:T,remove:G}}),t(_),t(d);var g=i(d,2);ft(g,{get open(){return e(f)},get mode(){return e(o)},get editingPerson(){return e(l)},$$events:{close:Y,submit:R}}),ae(()=>Xe(x,"aria-expanded",e(f))),L("click",x,J),u(Z,S),fe(),V()}export{Lt as component};
